<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rank Structure - UKBRUM Staff</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="nav-logo">UKBRUM Staff</h1>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="ranks.html" class="nav-link active">Rank Structure</a></li>
                <li><a href="guidelines.html" class="nav-link">Guidelines</a></li>
                <li><a href="logs.html" class="nav-link">Punishment Logs</a></li>
                <li><a href="resources.html" class="nav-link">Resources</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-content">
        <section class="hero">
            <h1>ERLC Staff Hierarchy</h1>
            <p>Complete rank structure for UKBRUM Emergency Response: Liberty County</p>
        </section>

        <div id="ranksContainer">
            <!-- Ranks will be loaded dynamically -->
        </div>
    </main>

    <footer>
        <p>&copy; 2024 UKBRUM Emergency Response: Liberty County. All rights reserved.</p>
    </footer>

    <script>
        async function loadRanks() {
            try {
                const response = await fetch('./data/ranks.json');
                const data = await response.json();
                const container = document.getElementById('ranksContainer');
                
                const sections = [
                    { key: 'senior_management', title: 'Senior Management', icon: 'crown' },
                    { key: 'management', title: 'Management', icon: 'users-cog' },
                    { key: 'staff', title: 'Staff', icon: 'shield' },
                    { key: 'assistant_staff', title: 'Assistant Staff', icon: 'hands-helping' }
                ];

                sections.forEach(section => {
                    const sectionDiv = document.createElement('section');
                    sectionDiv.className = 'guidelines-section';
                    
                    sectionDiv.innerHTML = `
                        <h2><i class="fas fa-${section.icon}"></i> ${section.title}</h2>
                        <table class="rank-table">
                            <thead>
                                <tr>
                                    <th>Rank</th>
                                    <th>Responsibilities</th>
                                    <th>ERLC Permissions</th>
                                    <th>Min Hours/Week</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${data[section.key].map(rank => `
                                    <tr>
                                        <td><i class="fas fa-${rank.icon}"></i> <strong>${rank.rank}</strong></td>
                                        <td>${rank.responsibilities}</td>
                                        <td>${rank.permissions}</td>
                                        <td>${rank.minHours === 0 ? 'No requirement' : rank.minHours + ' hours'}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;
                    
                    container.appendChild(sectionDiv);
                });

                // Add promotion requirements
                const promoSection = document.createElement('section');
                promoSection.className = 'guidelines-section';
                promoSection.innerHTML = `
                    <h2><i class="fas fa-rocket"></i> Promotion Requirements</h2>
                    <div class="punishment-level">
                        <h3>ERLC Staff Advancement Criteria</h3>
                        <ul>
                            <li><strong>Activity:</strong> Meet minimum weekly hour requirements for current rank</li>
                            <li><strong>Record:</strong> Clean punishment history (no major infractions)</li>
                            <li><strong>Knowledge:</strong> Complete understanding of ERLC FailRP rules</li>
                            <li><strong>Performance:</strong> Demonstrated competency in current role</li>
                            <li><strong>Training:</strong> Completed all required staff training modules</li>
                            <li><strong>Approval:</strong> Recommendation from Senior Staff + application review</li>
                        </ul>
                    </div>
                `;
                container.appendChild(promoSection);

            } catch (error) {
                console.error('Error loading ranks:', error);
                document.getElementById('ranksContainer').innerHTML = '<p>Error loading rank data</p>';
            }
        }

        document.addEventListener('DOMContentLoaded', loadRanks);
    </script>
    <script src="js/main.js"></script>
    <script src="js/auth.js"></script>
</body>
</html>