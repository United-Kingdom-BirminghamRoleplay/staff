<!DOCTYPE html>
<html>
<head>
    <title>Test Announcements</title>
</head>
<body>
    <h1>Test Announcements Loading</h1>
    <button onclick="testLoad()">Test Load</button>
    <button onclick="testSave()">Test Save</button>
    <div id="output"></div>

    <script>
        async function testLoad() {
            const output = document.getElementById('output');
            output.innerHTML = 'Testing announcement load...';
            
            try {
                const response = await fetch('./api/load.php?type=announcements');
                const text = await response.text();
                output.innerHTML = `<h3>Load Result:</h3><pre>${text}</pre>`;
            } catch (error) {
                output.innerHTML = `<h3>Load Error:</h3><pre>${error.message}</pre>`;
            }
        }

        async function testSave() {
            const output = document.getElementById('output');
            output.innerHTML = 'Testing announcement save...';
            
            const testAnnouncement = {
                title: 'Test Announcement',
                content: 'This is a test announcement'
            };
            
            try {
                const response = await fetch('./api/save.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ type: 'announcements', announcement: testAnnouncement })
                });
                
                const text = await response.text();
                output.innerHTML = `<h3>Save Result:</h3><pre>${text}</pre>`;
            } catch (error) {
                output.innerHTML = `<h3>Save Error:</h3><pre>${error.message}</pre>`;
            }
        }
    </script>
</body>
</html>