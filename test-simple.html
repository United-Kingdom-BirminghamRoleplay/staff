<!DOCTYPE html>
<html>
<head>
    <title>Simple Test</title>
</head>
<body>
    <h1>Simple API Test</h1>
    <button onclick="testLoad()">Test Load</button>
    <button onclick="testSave()">Test Save</button>
    <div id="output"></div>

    <script>
        async function testLoad() {
            const output = document.getElementById('output');
            output.innerHTML = 'Testing load...';
            
            try {
                const response = await fetch('./api/load.php?type=forms');
                const text = await response.text();
                output.innerHTML = `<h3>Load Result:</h3><pre>${text}</pre>`;
            } catch (error) {
                output.innerHTML = `<h3>Load Error:</h3><pre>${error.message}</pre>`;
            }
        }

        async function testSave() {
            const output = document.getElementById('output');
            output.innerHTML = 'Testing save...';
            
            const testForm = {
                title: 'Simple Test',
                description: 'Test description',
                fields: [{ text: 'Test question', type: 'text', required: true }]
            };
            
            try {
                const response = await fetch('./api/save.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ type: 'forms', form: testForm })
                });
                
                const text = await response.text();
                output.innerHTML = `<h3>Save Result:</h3><pre>${text}</pre>`;
            } catch (error) {
                output.innerHTML = `<h3>Save Error:</h3><pre>${error.message}</pre>`;
            }
        }
    </script>
</body>
</html>